<!DOCTYPE html>
<html>
	<head>
    <meta charset=utf-8>
    <meta name="mobile-web-app-capable" content="yes">
	<meta name="viewport" content="user-scalable=yes, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
  	<title>Справка</title>
    </head>
	<body>
        <h3>Парсер тарифных файлов с нечетким поиском</h3>
        <pre>
    1. В справочнике "Загрузки тарифов" заводим новую строку. Заполняем поля, запоминаем nn 
	   Внимание! Дату начала указываем с 00 часами, пример: 01.05.2021 00:00 . В очень редких случая 
	   требуется время отличное от 00:00
	   
    2. Готовим файл xlsx. Сохраняем в CSV файл. Кодировка файла UTF-8
    
    Допускаются следующие поля:
                
    nn	
    tf_comment	
    dc_name	(название услуги из договора, как есть со всеми опечатками. Или код услуги uSmart)
    mtow (тип ВС или весовая категория)
    rm_name (буква p (латинская) для перрона4)
    tf_fldirection	(Прилет/Вылет)
    tf_lowlimit	(нижний предел)
    tf_tariffmain	
    tf_payexec	
    tf_paymin	
    tf_round	
    st_code (спец. тариф)
    tf_reportname (почти не используется, только в ДМД для бизнес-залов)
    tf_fltype (МВЛ/ВВЛ)
    tf_flcategory (ЦР/Груз/Перегон/Технич/Чартер)
    neyro (словарь для поиска. По умолчанию пустое, для услуг РА нужно указать 1. 
		   Для neyro=1 используется словарь "Варианты написания 1"
		   Словарь определяется по первой строке в файле)
                
    Временный тариф можно вводить так: -(минус)стартовая цена - tf_tariffmain, цена за N минут - tf_payexec, 
    стартовое время(60) - tf_paymin, округление(N минут) - tf_round
                
    3. По кнопке "Upload" в форме "загрузки тарифов" загружаем файл в базу.
    
    4. В форме "загрузки тарифов" нажимаем пункт меню "Детали" для проверки загруженных строк. Исправления в форме. 
    Вместо названий допускаются SV_NN и AT_UTG.
    
    5. Для генерации скрипта переноса тарифов в uSmart в форме "загрузки тарифов" нажимаем 
    кнопку "Download"
	
    6.Поиск кодов услуг uSmart по названиям из ДС происходит с помощью алгоритма нечеткого поиска 
    по словарю "Варианты написания". ТипВС и категория ищутся по словарю "Типы ВС" 
    Поэтому в названии услуг, типов ВС и весовых категорий допускаются неточности.
                
        </pre>
    </body>
</html>    